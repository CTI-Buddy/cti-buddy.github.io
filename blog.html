---
layout: default
title: Blog
permalink: /blog/
---

<section class="section blog-section">
  <div class="container">
    <h1 class="section-title">All Blog Posts</h1>

    <!-- Tag filter dropdown -->
    <div class="tag-filter">
      <label for="tag-select" style="font-weight: bold;">Filter by tag:</label>
      <select id="tag-select">
        <option value="all">All</option>
        {% assign all_tags = site.tags | sort %}
        {% for tag in all_tags %}
          <option value="{{ tag[0] }}">{{ tag[0] }}</option>
        {% endfor %}
      </select>
    </div>

    <!-- Blog posts list -->
    <div class="blog-posts">
      {% for post in site.posts %}
        <div class="blog-tile" data-tags="{{ post.tags | join: ' ' }}">
  <a href="{{ post.url | relative_url }}">
    {% if post.image %}
      <img src="{{ post.image }}" alt="{{ post.title }}" class="blog-image">
    {% endif %}
    <div class="blog-info">
      <h2 class="blog-title">{{ post.title }}</h2>
      {% if post.tagline %}
        <p class="tagline">{{ post.tagline }}</p>
      {% endif %}
      <p class="blog-date">{{ post.date | date: "%B %d, %Y" }}</p>
    </div>
  </a>
</div>
      {% endfor %}
    </div>
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const dropdown = document.getElementById("tag-select");
    const posts = document.querySelectorAll(".blog-tile");

    // Helper: get URL param
    function getURLParam(name) {
      return new URLSearchParams(window.location.search).get(name);
    }

    // Filter posts by tag
    function filterPostsByTag(tag) {
      posts.forEach(post => {
        const postTags = post.getAttribute("data-tags").split(",");
        post.style.display = (tag === "all" || postTags.includes(tag)) ? "" : "none";
      });
    }

    // On load: check if tag param exists in URL
    const urlTag = getURLParam("tag") || "all";
    dropdown.value = urlTag;
    filterPostsByTag(urlTag);

    // On dropdown change: update URL and filter
    dropdown.addEventListener("change", function () {
      const selectedTag = this.value;
      const newURL = new URL(window.location.href);
      if (selectedTag === "all") {
        newURL.searchParams.delete("tag");
      } else {
        newURL.searchParams.set("tag", selectedTag);
      }
      window.history.replaceState({}, '', newURL);
      filterPostsByTag(selectedTag);
    });
  });
</script>

